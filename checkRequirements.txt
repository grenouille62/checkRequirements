-------------------------------------------------
SYNTHESE
-------------------------------------------------
    Nombre de r�gles/traitements                    : 38
    Nombre de r�gles/traitements impl�mnet�es       : 1
    Nombre de r�gles/traitements non impl�ment�es   : 37


-------------------------------------------------
DETAIL PAR REGLE/TRAITEMENT
-------------------------------------------------

---------------------------------------------------------------------------------------------------------------------------
|       REGLE       |                                DESCRIPTION                                |IMPLEMENTATION|NB CLASSES|
---------------------------------------------------------------------------------------------------------------------------
|RG_FOU_WSP_001     |sites fournisseurs concernés par la validation CHORUS                      |              |          |
|RG_FOU_WSP_002     |site fournisseur en attente de validation CHORUS                           |      X       |    1     |
|TRT_FOU_WSP_001    |Appel au Web Service S2                                                    |              |          |
|RG_FOU_RECH_001    |Recherche partielle                                                        |              |          |
|RG_FOU_RECH_002    |Combinaison de critères                                                    |              |          |
|RG_FOU_RECH_003    |Fournisseurs pris en compte lors d'une recherche                           |              |          |
|TRT_FOU_RECH_001   |Recherche par critères d'un site fournisseur                               |              |          |
|RG_FOU_LIST_001    |Etats possibles pour un site fournisseur                                   |              |          |
|RG_FOU_LIST_002    |Existence  d'informations  d'extension d'un site fournisseur               |              |          |
|RG_FOU_LIST_003    |Statuts possibles  dans le workflow  de validation  CHORUS                 |              |          |
|RG_FOU_LIST_004    |Accès à la création de site  pour un profil                                |              |          |
|TRT_FOU_LIST_001   |Affichage  d'une liste  de sites fournisseurs                              |              |          |
|RG_FOU_CREAT_001   |Société par défaut  d'un nouveau fournisseur                               |              |          |
|RG_FOU_CREAT_002   |OA par défaut  d'un nouveau fournisseur                                    |              |          |
|RG_FOU_CREAT_003   |Contrôle d'unicité  pour un fournisseur                                    |              |          |
|RG_FOU_CREAT_004   |Identifiant fonctionnel pour un site fournisseur                           |              |          |
|RG_FOU_CREAT_005   |Contrôle d'unicité  pour un site fournisseur                               |              |          |
|RG_FOU_CREAT_006   |Contrôle sur les données obligatoires                                      |              |          |
|RG_FOU_CREAT_007   |Etat initial  d'un nouveau site  fournisseur                               |              |          |
|RG_FOU_CREAT_008   |Statut dans le workflow  de validation CHORUS d'un nouveau site fournisseur|              |          |
|RG_FOU_CREAT_009   |Contrôle d'unicité  du code Tiers                                          |              |          |
|TRT_FOU_CREAT_001  |Création d'un site fournisseur                                             |              |          |
|RG_FOU_MODIF_001   |Accès aux actions de modification pour un profil                           |              |          |
|RG_FOU_MODIF_002   |Accès à la modification de champ pour un profil                            |              |          |
|RG_FOU_ACTIV_001   |Contrôle d'existence d'un RIB pour un site à l'état " activé "             |              |          |
|RG_FOU_ACTIV_002   |Accès à l'activation/désactivation et état d'un site                       |              |          |
|RG_FOU_ACTIV_003   |Accès à l'ajout d'extension et état d'un site                              |              |          |
|TRT_FOU_MODIF_001  |                                                                           |              |          |
|TRT_FOU_MODIF_002  |                                                                           |              |          |
|TRT_FOU_LISTRIB_001|                                                                           |              |          |
|TRT_FOU_ACTIV_001  |                                                                           |              |          |
|RG_RIB_LIST_001    |Accès à la création de RIB pour un profil "                                |              |          |
|RG_RIB_DET_001     |Accès aux modes de l'écran                                                 |              |          |
|RG_RIB_DET_002     |Complétion automatique des données bancaires                               |              |          |
|RG_RIB_ACTIV_001   |Accès à l'activation / désactivation et état d'un RIB                      |              |          |
|TRT_RIB_MODIF_001  |Validation des modifications d'un RIB                                      |              |          |
|TRT_RIB_ACTIV_001  |Activation/désactivation d'un RIB                                          |              |          |
|RG_FOU_GEN_RF_001  |Structure d'un message XML                                                 |              |          |
---------------------------------------------------------------------------------------------------------------------------
---------------------------------------
DETAIL PAR CLASSE
---------------------------------------

-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      CLASSE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |       REGLE       |
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|ogil.infos.generales

import org.springframework.dao.DataIntegrityViolationException


class EmployeController {

    static allowedMethods = [save: "POST", update: "POST", delete: "POST"]

    def index() {
        redirect(action: "list", params: params)
    }
		
    def list() {
    	        params.max = Math.min(params.max ? params.int('max') : 10, 100)
        Etablissement etablissement = Etablissement.get(params.etablissement)
        if (etablissement == null) {
            redirect(controller: "etablissement", action: "create")
            return
        }
        [employeInstanceList: etablissement.getEmployes(), employeInstanceTotal: Employe.count()]
    }

    def create() {
        [employeInstance: new Employe(params)]
    }

    def save() {
        def employeInstance = new Employe(params)
        if (!employeInstance.save(flush: true)) {
            render(view: "create", model: [employeInstance: employeInstance])
            return
        }

        flash.message = message(code: 'Employe.default.created.message',
                default: message(code: 'ogil.default.created.message'))
        redirect(action: "show", id: employeInstance.id)
    }

    def show() {
        def employeInstance = Employe.get(params.id)
        if (!employeInstance) {
            flash.message = message(code: 'Employe.default.not.found.message',
                    default: message(code: 'ogil.default.not.found.message'))
            redirect(action: "list")
            return
        }

        [employeInstance: employeInstance]
    }

    def edit() {
        def employeInstance = Employe.get(params.id)
        if (!employeInstance) {
            flash.message = message(code: 'Employe.default.not.found.message',
                    default: message(code: 'ogil.default.not.found.message'))
            redirect(action: "list")
            return
        }

        [employeInstance: employeInstance]
    }

    def update() {
        def employeInstance = Employe.get(params.id)
        if (!employeInstance) {
            flash.message = message(code: 'Employe.default.not.found.message',
                    default: message(code: 'ogil.default.not.found.message'))
            redirect(action: "list")
            return
        }

        if (params.version) {
            def version = params.version.toLong()
            if (employeInstance.version > version) {
                employeInstance.errors.rejectValue("version", "default.optimistic.locking.failure",
                        [message(code: 'employe.label', default: 'Employe')] as Object[],
                        "Another user has updated this Employe while you were editing")
                render(view: "edit", model: [employeInstance: employeInstance])
                return
            }
        }

        employeInstance.properties = params

        if (!employeInstance.save(flush: true)) {
            render(view: "edit", model: [employeInstance: employeInstance])
            return
        }

        flash.message = message(code: 'Employe.default.updated.message',
                default: message(code: 'ogil.default.updated.message'))
        redirect(action: "show", id: employeInstance.id)
    }

    def delete() {
        def employeInstance = Employe.get(params.id)
        if (!employeInstance) {
            flash.message = message(code: 'Employe.default.not.found.message',
                    default: message(code: 'ogil.default.not.found.message'))
            redirect(action: "list")
            return
        }

        try {
            employeInstance.delete(flush: true)
            flash.message = message(code: 'Employe.default.deleted.message',
                    default: message(code: 'ogil.default.deleted.message'))
            redirect(action: "list")
        }
        catch (DataIntegrityViolationException e) {
            flash.message = message(code: 'Employe.default.not.deleted.message', default: message(code: 'ogil.default.not.deleted.message'))
            redirect(action: "show", id: params.id)
        }
    }
}.EmployeController|RG_FOU_WSP_002     |
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
